<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        .calculator{
            width: 300px;
        }
        .buttons{
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
        }
        .AC{
            grid-column: 1/4;
            background: rgb(100, 100, 100);
        }
        .zero{
            grid-column: 1/3;
        }
        button, input {
            height: 70px;
            outline: none;
        }
        input{
            width: 100%;
            background: rgb(85, 85, 85);
            border: none;
            text-align: right;
            font-size: 3rem;
            padding-right: 1rem;
        }
        * {
            box-sizing: border-box;
            color: white;
        }
        button {
            background: rgb(126, 126, 126);
            border: 1px solid black;
            font-size: 2rem;
        }
        button:nth-child(4n+2), button:last-child{
            background: orange;
        }
        button:hover{
            opacity: 50%;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <input type="text" id="inputNums">
        <div class="buttons">
            <button onclick="calcul('C');" class="AC">AC</button>
            <button onclick="calcul('/');">&divide;</button>
            <button onclick="calcul(7);">7</button>
            <button onclick="calcul(8);">8</button>
            <button onclick="calcul(9);">9</button>
            <button onclick="calcul('*');">&times;</button>
            <button onclick="calcul(4);">4</button>
            <button onclick="calcul(5);">5</button>
            <button onclick="calcul(6);">6</button>
            <button onclick="calcul('-');">-</button>
            <button onclick="calcul(1);">1</button>
            <button onclick="calcul(2);">2</button>
            <button onclick="calcul(3);">3</button>
            <button onclick="calcul('+');">+</button>
            <button onclick="calcul(0);" class="zero">0</button>
            <button onclick="calcul('.');">.</button>
            <button onclick="calcul('=');">=</button>
        </div>
    </div>

    <script>
        var isOperator = true; //방금 입력한 것이 연산자인지 (true,false)
        function calcul(a){
            var inputVal = document.getElementById("inputNums").value;
            if(a == "="){
                document.getElementById("inputNums").value = eval(inputVal);
            }
            else if(a == "C"){
                document.getElementById("inputNums").value = "";
            }
            else{
                if(isOperator && isNaN(a)){
                    //방금 입력한 것이 연산자이고 지금 입력한 것도 연산자이면
                    var inStr = inputVal;
                    if(inStr.length>1){
                        document.getElementById("inputNums").value = inStr.substring(0,inStr.length-1) + a;
                    }
                }
                else{
                    document.getElementById("inputNums").value = inputVal + a;
                }
            }
            
            if(isNaN(a)){
                console.log("not a number");
                isOperator = true;
            }
            else{
                console.log("number");
                isOperator = false;
            }
        }

    </script>
</body>
</html>